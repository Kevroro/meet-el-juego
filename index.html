<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Meet</title>
    
    <!-- PWA & Icons -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Mi Juego">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="favicon2.png">
    <link rel="icon" href="favicon.png" type="image/png">

    <!-- Styles & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Comfortaa:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        /* Base Setup */
        body {
            background-color: #000000;
            font-family: 'Comfortaa', sans-serif;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: none;
        }

        /* Typography */
        .font-caveat { font-family: 'Caveat', cursive; }
        .font-comfortaa { font-family: 'Comfortaa', sans-serif; }

        /* Custom UI Elements */
        .question-box { 
            background: linear-gradient(145deg, #0d1e75, #9a18a4); 
            min-height: 18rem;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(154, 24, 164, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.2s;
        }

        .btn-gradient {
            background: linear-gradient(to right, #0d1e75, #9a18a4);
            transition: opacity 0.2s, transform 0.1s;
        }
        .btn-gradient:active { transform: scale(0.98); }

        /* Animations */
        @keyframes zoomIn {
            0% { opacity: 0; transform: scale(0.95); }
            100% { opacity: 1; transform: scale(1); }
        }
        .animate-zoom-in { animation: zoomIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .floating { animation: float 4s ease-in-out infinite; }

        /* Scrollbar Hide */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Input styling to prevent iOS zoom */
        input[type="text"] { font-size: 16px !important; }

        /* Checkbox styling */
        .category-checkbox {
            accent-color: #9a18a4;
            width: 1.25rem;
            height: 1.25rem;
        }
    </style>
</head>
<body class="custom-bg text-white h-screen w-screen overflow-hidden relative">

    <!-- PANTALLA 1: SPLASH SCREEN -->
    <div id="splash-screen" class="fixed inset-0 flex items-center justify-center bg-white z-50 transition-opacity duration-700">
        <img src="logo.png" alt="Logotipo" class="w-2/3 max-w-xs animate-zoom-in floating">
    </div>

    <!-- PANTALLA 2: SELECCI√ìN DE JUGADORES -->
    <div id="player-setup" class="hidden fixed inset-0 flex flex-col items-center pt-12 pb-6 px-4 z-40 h-full">
        <h1 class="text-5xl mb-6 font-extrabold text-center font-caveat leading-tight drop-shadow-md">
            ¬øQui√©nes vais a <br> dejaros llevar?
        </h1>
        
        <!-- Contenedor con scroll para los inputs -->
        <div class="flex-1 w-full max-w-sm overflow-y-auto no-scrollbar mb-4 mask-image-gradient">
            <div id="player-inputs" class="flex flex-col items-center space-y-3 pb-4">
                <input type="text" class="player-name w-full bg-white/90 text-black px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Nombre 1">
                <input type="text" class="player-name w-full bg-white/90 text-black px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Nombre 2">
            </div>
            
            <div class="flex justify-center mt-2">
                <button id="add-player" class="bg-white/10 hover:bg-white/20 border border-white/30 text-white font-bold py-2 px-6 rounded-full transition-colors text-xl">
                    +
                </button>
            </div>
        </div>

        <!-- Footer actions -->
        <div class="w-full max-w-sm flex flex-col items-center gap-3 mt-auto">
            <a href="instrucciones.html" target="_blank" class="text-gray-300 text-sm underline opacity-80 hover:opacity-100">
                Instrucciones del juego
            </a>
            <button id="start-game" class="w-full btn-gradient text-white font-bold py-4 rounded-xl shadow-lg text-lg uppercase tracking-wider">
                Empezar
            </button>
        </div>
    </div>

    <!-- PANTALLA 3: CATEGOR√çAS -->
    <div id="category-setup" class="hidden fixed inset-0 flex flex-col justify-center items-center p-6 z-30 bg-black/95 backdrop-blur-sm">
        <h1 class="text-5xl mb-8 font-extrabold text-center font-caveat leading-tight">
            ¬øEn qu√© mood <br> est√°is hoy?
        </h1>
        
        <div class="w-full max-w-sm space-y-5 mb-10">
            <!-- Opciones -->
            <label class="flex items-center p-3 bg-white/5 rounded-lg border border-white/10 active:bg-white/10 transition-colors cursor-pointer">
                <input type="checkbox" class="category-checkbox mr-4" value="love">
                <span class="text-xl">Rom√°ntico ‚ù§Ô∏è</span>
            </label>
            <label class="flex items-center p-3 bg-white/5 rounded-lg border border-white/10 active:bg-white/10 transition-colors cursor-pointer">
                <input type="checkbox" class="category-checkbox mr-4" value="sexual">
                <span class="text-xl">Sexual üî•</span>
            </label>
            <label class="flex items-center p-3 bg-white/5 rounded-lg border border-white/10 active:bg-white/10 transition-colors cursor-pointer">
                <input type="checkbox" class="category-checkbox mr-4" value="funny">
                <span class="text-xl">Divertido ü§™</span>
            </label>
            <label class="flex items-center p-3 bg-white/5 rounded-lg border border-white/10 active:bg-white/10 transition-colors cursor-pointer">
                <input type="checkbox" class="category-checkbox mr-4" value="intense">
                <span class="text-xl">Intenso ü§Ø</span>
            </label>
            
            <div class="h-px bg-white/20 my-2"></div>

            <label class="flex items-center p-3 bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-lg border border-white/20 cursor-pointer">
                <input type="checkbox" id="select-all" class="category-checkbox mr-4" value="all">
                <span class="text-lg font-bold">¬°Vamos a por todas! üéâ</span>
            </label>
        </div>

        <button id="apply-categories" class="w-full max-w-sm btn-gradient text-white font-bold py-4 px-6 rounded-xl shadow-lg text-lg uppercase tracking-wider">
            Continuar
        </button>
    </div>

    <!-- PANTALLA 4: JUEGO -->
    <div id="game-screen" class="hidden fixed inset-0 flex flex-col items-center py-6 px-4 z-20 overflow-y-auto">
        
        <!-- Logo Header -->
        <img src="logoblanco.png" alt="Logotipo" class="w-28 mb-6 mt-2 opacity-90">
        
        <!-- Caja de Pregunta -->
        <div class="question-box w-full max-w-md p-6 mb-6 relative group">
            <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-10 rounded-[1.5rem] transition-opacity pointer-events-none"></div>
            
            <div id="emoji" class="text-5xl mb-4 animate-bounce">‚ú®</div>
            
            <p id="question" class="text-white text-2xl md:text-3xl font-caveat leading-snug text-center mb-6 px-2 min-h-[4rem] flex items-center justify-center">
                ¬°Clica en ¬´D√©jate llevar¬ª para comenzar la experiencia!
            </p>
            
            <button id="new-question" class="bg-white text-purple-900 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 active:scale-95 transition-all">
                D√©jate llevar
            </button>
        </div>
        
        <!-- Marcador -->
        <div class="w-full max-w-md bg-white/5 rounded-2xl p-4 border border-white/10 backdrop-blur-sm">
            <h3 class="text-center text-xs uppercase tracking-widest opacity-50 mb-4">Puntuaciones</h3>
            <div id="player-scores" class="space-y-4">
                <!-- Se rellena con JS -->
            </div>
        </div>
    </div>

    <script>
        // --- DATOS ---
        const questions = [
            { text: "¬øQu√© significa el amor para ti?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øEn qu√© crees que se basa el amor a primera vista?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© fue lo que m√°s te molest√≥ de tu primer amor?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Si fueras invisible por un d√≠a, ¬øqu√© har√≠as?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øC√≥mo te consideras en la cama?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© parte de tu cuerpo consideras m√°s atractiva?", "emoji": "üî•", "category": "sexual" },
            { text: "Si fueras rico/a, ¬øqu√© har√≠as con tu fortuna?", "emoji": "ü§™", "category": "funny" },
            { text: "Si pudieras tener cualquier superpoder, ¬øcu√°l escoger√≠as?", "emoji": "ü§™", "category": "funny" },
            { text: "Si pudieras teletransportarte, ¬øa d√≥nde ir√≠as?", "emoji": "ü§™", "category": "funny" },
            { text: "¬øCu√°l es tu mayor miedo y por qu√©?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øC√≥mo te gustar√≠a morir?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øCu√°l consideras que es el sentido de la vida?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo m√°s fuerte que has hecho por amor?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© significa para ti ser una persona rom√°ntica?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øC√≥mo ser√≠a tu cita perfecta?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© piensas sobre el concepto de amor eterno?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øTe gustar√≠a tener una relaci√≥n a larga distancia? ¬øPor qu√©?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øCu√°l es tu mayor temor en una relaci√≥n?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© valoras m√°s en una pareja?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øCu√°l es tu fantas√≠a sexual m√°s secreta?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øC√≥mo describir√≠as la qu√≠mica perfecta entre dos personas?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© opinas sobre el sexo sin compromiso?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øCu√°l es tu juguete sexual favorito?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øTe gustar√≠a probar cosas nuevas en la intimidad? ¬øQu√© tipo?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øTe consideras un buen amante? ¬øPor qu√©?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© har√≠as si te tocaran un tema sexual inc√≥modo?", emoji: "üî•", category: "sexual" },
            { text: "Si fueras un superh√©roe, ¬øcu√°l ser√≠a tu poder?", emoji: "ü§™", category: "funny" },
            { text: "¬øCu√°l es el peor chiste que conoces?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras ser cualquier animal por un d√≠a, ¬øcu√°l ser√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© har√≠as si pudieras hablar con los animales?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© har√≠as si fueras un ni√±o otra vez por un d√≠a?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe has re√≠do alguna vez en una situaci√≥n inapropiada?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras ser famoso por algo rid√≠culo, ¬øqu√© har√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øCu√°l es tu imitaci√≥n de voz m√°s graciosa?", emoji: "ü§™", category: "funny" },
            { text: "Si fueras un personaje de dibujos animados, ¬øqui√©n ser√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© opinas sobre el destino? ¬øCrees que todo pasa por una raz√≥n?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© har√≠as si supieras que te queda solo un d√≠a de vida?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øTe gustar√≠a saber cu√°ndo vas a morir?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© opinas sobre el concepto de libertad?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øCu√°l es el mayor sacrificio que has hecho en tu vida?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øCrees que hay vida despu√©s de la muerte?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© har√≠as si tuvieras el poder de cambiar el mundo?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© significa para ti la libertad?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© es lo que m√°s te gusta hacer con tu pareja?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCu√°l es tu recuerdo m√°s bonito de un amor?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øTienes alguna cita famosa sobre el amor que te guste?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øC√≥mo te gustar√≠a que fuera tu boda ideal?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCu√°l es el detalle m√°s bonito que has recibido de un ser querido?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCrees que el amor puede sanar heridas emocionales?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© tipo de abrazos te gustan m√°s?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© har√≠as si alguien te declarara su amor de una forma muy original?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© significa para ti el amor verdadero?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© opinas sobre las sorpresas rom√°nticas?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCu√°l es tu canci√≥n rom√°ntica favorita y por qu√©?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øPrefieres las muestras de cari√±o en p√∫blico o en privado? ¬øPor qu√©?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øC√≥mo fue la vez que te enamoraste de alguien que no esperabas?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© significa para ti una relaci√≥n saludable?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCu√°l ha sido el gesto m√°s rom√°ntico que has hecho por alguien?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© tipo de regalos sentimentales te gustan m√°s?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øCu√°l es la cualidad m√°s atractiva que buscas en una pareja?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© har√≠as si te enamoras de alguien con quien no puedes estar?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øQu√© importancia le das a la lealtad en una relaci√≥n?", emoji: "‚ù§Ô∏è", category: "love" },
            { text: "¬øC√≥mo te gustar√≠a explorar diferentes tipos de sexo?", emoji: "üî•", category: "sexual" },
            { text: "¬øC√≥mo te sentir√≠as si tu pareja te pidiera algo fuera de lo com√∫n en la intimidad?", emoji: "üî•", category: "sexual" },
            { text: "¬øHay alguna pr√°ctica que jam√°s har√≠as en la cama?", emoji: "üî•", category: "sexual" },
            { text: "¬øC√≥mo te sentir√≠as si tuvieses que experimentar sexo en lugares p√∫blicos?", emoji: "üî•", category: "sexual" },
            { text: "¬øPrefieres que la intimidad sea lenta o r√°pida? ¬øPor qu√©?", emoji: "üî•", category: "sexual" },
            { text: "¬øHas tenido alguna vez un sue√±o er√≥tico? ¬øC√≥mo fue?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© es lo que m√°s te excita en la intimidad?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© opinas sobre las pel√≠culas para adultos?", emoji: "üî•", category: "sexual" },
            { text: "¬øTe consideras una persona atrevida en la intimidad? ¬øPor qu√©?", emoji: "üî•", category: "sexual" },
            { text: "¬øCu√°l es tu fantas√≠a sexual m√°s atrevida?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© piensas de la sexualidad abierta?", emoji: "üî•", category: "sexual" },
            { text: "¬øC√≥mo te gustar√≠a que fuera una noche de pasi√≥n perfecta?", emoji: "üî•", category: "sexual" },
            { text: "¬øPrefieres el sexo suave o m√°s intenso? ¬øQu√© te atrae de cada uno?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© importancia le das a la atracci√≥n por personas del mismo sexo?", emoji: "üî•", category: "sexual" },
            { text: "¬øTienes alguna preferencia por alg√∫n tipo de ropa en la intimidad?", emoji: "üî•", category: "sexual" },
            { text: "¬øQu√© har√≠as si un desconocido te hiciera una propuesta sexual?", emoji: "üî•", category: "sexual" },
            { text: "¬øC√≥mo describir√≠as una relaci√≥n sexual ideal para ti?", emoji: "üî•", category: "sexual" },
            { text: "¬øPrefieres tener sexo con emoci√≥n o relajado? ¬øPor qu√©?", emoji: "üî•", category: "sexual" },
            { text: "Si fueras una celebridad por un d√≠a, ¬øqu√© har√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øCu√°l es la comida m√°s rara que te gusta comer?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras vivir en una pel√≠cula, ¬øcu√°l escoger√≠as y por qu√©?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© superpoder elegir√≠as para hacerle bromas a la gente?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe atrever√≠as a cantar en p√∫blico en un karaoke? ¬øPor qu√©?", emoji: "ü§™", category: "funny" },
            { text: "Si fueras un personaje de Disney, ¬øqui√©n ser√≠as y por qu√©?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe has ca√≠do alguna vez de una forma muy graciosa? ¬øC√≥mo fue?", emoji: "ü§™", category: "funny" },
            { text: "¬øCu√°l es el peor apodo que te han puesto y c√≥mo lo tomaste?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras vivir en cualquier √©poca, ¬øcu√°l escoger√≠as y por qu√©?", emoji: "ü§™", category: "funny" },
            { text: "Si fueras un detective, ¬øqu√© tipo de crimen resolver√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe gustar√≠a tener una mascota ex√≥tica? ¬øCu√°l?", emoji: "ü§™", category: "funny" },
            { text: "¬øTienes alguna man√≠a rara? ¬øCu√°l?", emoji: "ü§™", category: "funny" },
            { text: "Si fueras un inventor, ¬øqu√© inventar√≠as?", emoji: "ü§™", category: "funny" },
            { text: "Si fueras invisible por un d√≠a, ¬øa qu√© persona espiar√≠as y por qu√©?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© har√≠as si te encuentras con tu ‚Äòyo‚Äô del futuro?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras tener cualquier habilidad in√∫til, ¬øcu√°l elegir√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe atrever√≠as a comer algo extremadamente picante?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras tener un animal como compa√±ero de trabajo, ¬øcu√°l escoger√≠as?", emoji: "ü§™", category: "funny" },
            { text: "¬øTe gustar√≠a tener un doble para que haga las tareas aburridas?", emoji: "ü§™", category: "funny" },
            { text: "Si pudieras cambiar de lugar con alguien por un d√≠a, ¬øqui√©n ser√≠as y por qu√©?", emoji: "ü§™", category: "funny" },
            { text: "¬øQu√© significa para ti la felicidad?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© har√≠as si pudieras cambiar un evento hist√≥rico?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øTe gustar√≠a saber todos los secretos del universo?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© es lo m√°s valioso para ti en la vida?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© piensas sobre el sufrimiento humano?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© opinas sobre la religi√≥n?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øCrees que el tiempo es relativo?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øCu√°l es tu concepto de libertad?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© cambiar√≠as en la sociedad para mejorarla?", emoji: "ü§Ø", category: "intense" },
            { text: "¬øQu√© opinas sobre el destino y la suerte?", emoji: "ü§Ø", category: "intense" },
            { text: "Si murieras ma√±ana, ¬øqu√© har√≠as hoy?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo m√°s rid√≠culo que has hecho estando borraxe?", "emoji": "ü§™", "category": "funny" },
            { text: "Di algo que haga una persona que te genere confianza.", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Di una cosa que coger√≠as y otra que descartar√≠as de les integrantes de la mesa.", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo que nunca te gustar√≠a probar en la cama?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© objeto salvar√≠as de un incendio?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo que la mayor√≠a de la gente suele pensar de ti?", "emoji": "ü§Ø", "category": "intense" },
            { text: "Si solo pudieras vivir en una estaci√≥n del a√±o, ¬øcu√°l ser√≠a?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øCu√°ndo fue la √∫ltima vez que lloraste delante de alguien? ¬øPor qu√©?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo que mejor se te da en la cama?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øCu√°l es la parte que consideras m√°s sexy de tu cuerpo?", "emoji": "üî•", "category": "sexual" },
            { text: "Si pudieras revivir un momento de tu vida, ¬øcu√°l ser√≠a?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© papel juegan los viajes en tu vida y cu√°l ha sido tu experiencia m√°s impactante?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© crees que es lo que m√°s te ha marcado en tu infancia?", "emoji": "ü§Ø", "category": "intense" },
            { text: "Si ma√±ana pudieras levantarte disfrutando de una habilidad sexual nueva, ¬øcu√°l ser√≠a?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øCu√°l es tu mayor complejo f√≠sico y qu√© es lo que m√°s te gusta de ti?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Si no pudieras hacer lo que est√°s haciendo ahora, ¬øc√≥mo te gustar√≠a ganarte la vida?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øCu√°l es el mejor recuerdo de tu infancia?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Di una cosa que creas tener en com√∫n sexualmente con les personas de la mesa.", "emoji": "üî•", "category": "sexual" },
            { text: "Si tuvieras que elegir ahora mismo un/a famoso/a para tener relaciones sexuales, ¬øqui√©n ser√≠a?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQui√©n te inspira m√°s?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øTe gustar√≠a ser famoso/a? ¬øDe qu√© forma?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© es lo que valoras m√°s de un amigo/a?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Di una frase para tu l√°pida.", "emoji": "ü§™", "category": "funny" },
            { text: "¬øC√≥mo te gustar√≠a ser recordado/a?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© querr√≠as que se hiciera con tu cuerpo al morir?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øC√≥mo te sientes respecto a tu relaci√≥n con tu madre?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øA qu√© personaje hist√≥rico te gustar√≠a conocer?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øCon qu√© tipo de personas jam√°s te llevar√≠as bien?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øCu√°l consideras que ser√≠a la peor muerte de todas?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© cambiar√≠as de tu presente?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQu√© dos adjetivos te definen mejor?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øQu√© es lo que m√°s echas de menos de tu infancia?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øEres como quieres ser?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øEn qu√© situaci√≥n estar√≠as dispuesto/a a mentir?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øBuscar√≠as ayuda para corregir un problema sexual?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© valoras m√°s, la amistad o la pareja?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øTe consideras buena persona?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "Escoge un tatuaje tuyo o de alguien de la mesa y explica su significado.", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øPor qu√© aspecto de tu vida sexual sientes m√°s gratitud?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øCu√°ndo fue la √∫ltima vez que te masturbaste?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© sueles pensar cuando alguien se te queda mirando?", "emoji": "ü§™", "category": "funny" },
            { text: "¬øQu√© tipos de v√≠deos hot ves m√°s?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© es lo primero que haces al despertar?", "emoji": "ü§Ø", "category": "intense" },
            { text: "Completa esta frase: Ojal√° tuviera a alguien con quien compartir...", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øHas grabado alguna vez un video √≠ntimo?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øHar√≠as cibersexo?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© es lo que m√°s te gusta que te hagan en la cama?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© te parecer√≠a importante destacar en tu carta de presentaci√≥n?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øQui√©n crees que tiene una idea err√≥nea de c√≥mo eres? ¬øCu√°l es?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øHay algo que te parezca demasiado serio como para no hacer bromas al respecto?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øCu√°l es la parte m√°s sensible de tu cuerpo?", "emoji": "üî•", "category": "sexual" },
            { text: "Cuando algo no te apetece, ¬øsabes poner l√≠mites?", "emoji": "‚ù§Ô∏è", "category": "love" },
            { text: "¬øTe consideras dominante/a en la cama?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øHas tenido relaciones sexuales con personas desconocidas?", "emoji": "üî•", "category": "sexual" },
            { text: "¬øQu√© es lo m√°s alocado que has hecho?", "emoji": "ü§™", "category": "funny" },
            { text: "¬øA qu√© le tienes un miedo irracional?", "emoji": "ü§Ø", "category": "intense" },
            { text: "¬øC√≥mo te sentir√≠as si pillaras a tu pareja d√°ndose autoplacer?", "emoji": "üî•", "category": "sexual" }
        ];

        // --- L√ìGICA DEL JUEGO ---
        document.addEventListener("DOMContentLoaded", () => {
            
            // Estado Global
            let players = [];
            const maxScore = 100;
            const usedQuestions = new Set();
            let filteredQuestions = [];

            // Referencias DOM
            const screens = {
                splash: document.getElementById("splash-screen"),
                playerSetup: document.getElementById("player-setup"),
                categorySetup: document.getElementById("category-setup"),
                game: document.getElementById("game-screen")
            };

            // Helpers de UI
            function showScreen(screenKey) {
                // Ocultar todas
                Object.values(screens).forEach(el => el.classList.add("hidden"));
                // Mostrar objetivo
                screens[screenKey].classList.remove("hidden");
                screens[screenKey].classList.add("animate-zoom-in");
            }

            // 1. Splash Screen Timeout
            setTimeout(() => {
                screens.splash.classList.add("opacity-0"); // Fade out effect
                setTimeout(() => {
                    screens.splash.classList.add("hidden");
                    showScreen("playerSetup");
                }, 700);
            }, 3000);

            // 2. Player Setup Logic
            const playerInputsContainer = document.getElementById("player-inputs");
            let playerCount = 2;

            document.getElementById("add-player").addEventListener("click", () => {
                if (playerCount < 12) {
                    playerCount++;
                    const newInput = document.createElement("input");
                    newInput.type = "text";
                    newInput.className = "player-name w-full bg-white/90 text-black px-4 py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 animate-zoom-in";
                    newInput.placeholder = `Nombre ${playerCount}`;
                    playerInputsContainer.appendChild(newInput);
                    // Auto-scroll al fondo
                    newInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } else {
                    alert("¬°El m√°ximo son 12 jugadores!");
                }
            });

            document.getElementById("start-game").addEventListener("click", () => {
                players = [];
                document.querySelectorAll(".player-name").forEach(input => {
                    if (input.value.trim()) {
                        players.push({ name: input.value.trim(), score: 0 });
                    }
                });
                
                if (players.length > 0) {
                    showScreen("categorySetup");
                } else {
                    alert("¬°Necesitamos al menos un nombre para empezar!");
                }
            });

            // 3. Category Logic
            document.getElementById("select-all").addEventListener("change", (e) => {
                const isChecked = e.target.checked;
                document.querySelectorAll(".category-checkbox").forEach((checkbox) => {
                    if (checkbox !== e.target) checkbox.checked = isChecked;
                });
            });

            document.getElementById("apply-categories").addEventListener("click", () => {
                const selectedCategories = Array.from(
                    document.querySelectorAll(".category-checkbox:checked")
                ).map(cb => cb.value);

                if (selectedCategories.length === 0) {
                    alert("¬°Elige al menos una categor√≠a!");
                    return;
                }

                // Filtrar (si 'all' est√° seleccionado, incluye todo, sino filtra por categor√≠a)
                if (selectedCategories.includes('all')) {
                    filteredQuestions = [...questions];
                } else {
                    filteredQuestions = questions.filter(q => selectedCategories.includes(q.category));
                }

                if (filteredQuestions.length === 0) {
                    alert("No hay preguntas para esa combinaci√≥n.");
                    return;
                }

                usedQuestions.clear();
                updateScores();
                showScreen("game");
            });

            // 4. Game Logic (New Question)
            document.getElementById("new-question").addEventListener("click", () => {
                let available = filteredQuestions.filter(q => !usedQuestions.has(q.text));
                
                if (available.length === 0) {
                    // Resetear si se acaban
                    usedQuestions.clear();
                    available = filteredQuestions;
                    alert("¬°Hab√©is dado la vuelta al mazo! Repetimos preguntas.");
                }

                const randomQ = available[Math.floor(Math.random() * available.length)];
                usedQuestions.add(randomQ.text);

                // Update UI
                const qEl = document.getElementById("question");
                const eEl = document.getElementById("emoji");
                
                // Peque√±a animaci√≥n de cambio
                qEl.style.opacity = 0;
                setTimeout(() => {
                    qEl.textContent = randomQ.text;
                    eEl.textContent = randomQ.emoji;
                    qEl.style.opacity = 1;
                }, 200);
            });

            // 5. Score Logic
            window.modifyScore = function(index, amount) {
                const newScore = players[index].score + amount;
                
                if (newScore < 0) return; // No negativos
                
                players[index].score = newScore;
                updateScores();

                if (players[index].score >= maxScore) {
                    setTimeout(() => {
                        alert(`¬°${players[index].name} ha llegado al tope! ¬°FIESTA! üéâ`);
                        location.reload();
                    }, 500);
                }
            };

            function updateScores() {
                const container = document.getElementById("player-scores");
                container.innerHTML = "";
                
                players.forEach((player, index) => {
                    const row = document.createElement("div");
                    row.className = "bg-white/10 rounded-lg p-3";
                    
                    row.innerHTML = `
                        <div class="flex items-center justify-between mb-2">
                            <span class="font-bold text-white truncate max-w-[50%]">${player.name}</span>
                            <div class="flex space-x-2">
                                <button onclick="modifyScore(${index}, -10)" class="bg-red-500/20 hover:bg-red-500 text-red-100 px-3 py-1 rounded text-sm transition-colors font-bold">-</button>
                                <button onclick="modifyScore(${index}, 10)" class="bg-green-500/20 hover:bg-green-500 text-green-100 px-3 py-1 rounded text-sm transition-colors font-bold">+</button>
                            </div>
                        </div>
                        <div class="w-full bg-gray-700/50 rounded-full h-3 overflow-hidden">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full transition-all duration-500 ease-out" 
                                 style="width: ${(player.score / maxScore) * 100}%"></div>
                        </div>
                    `;
                    container.appendChild(row);
                });
            }
        });
    </script>
</body>
</html>
